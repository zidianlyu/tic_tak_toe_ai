(window.webpackJsonptic_tac_toe_ai=window.webpackJsonptic_tac_toe_ai||[]).push([[0],{43:function(e,t,n){e.exports=n(53)},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),i=n.n(o),c=n(7),s=n(8),u=n(10),l=n(9),m=n(11),p=n(71),f=n(78),h=n(76),d=n(73),b=n(12),g=n(79),O=n(69),y=n(72),v=n(75),w=n(77),j=n(3),k=n(70);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T="row1",S="row2",x="row3",C="col1",M="col2",N="col3",A="dia1",W="dia2",I={position:"absolute",transition:"700ms",backgroundColor:k.a[300],width:3},D={transform:"rotate(-90deg)",transformOrigin:"top"},_={top:0},B={top:2,transformOrigin:"top"},R="TWO_PLAYERS",G="VERSUS_COMPUTER",U="HUMAN",H="COMPUTER",z="WIN",L="LOSS",V="DRAW",J="CONTINUE",Y="O",Z="X",q="",X=[{winPosition:T,coordinates:[[0,0],[0,1],[0,2]]},{winPosition:S,coordinates:[[1,0],[1,1],[1,2]]},{winPosition:x,coordinates:[[2,0],[2,1],[2,2]]},{winPosition:C,coordinates:[[0,0],[1,0],[2,0]]},{winPosition:M,coordinates:[[0,1],[1,1],[2,1]]},{winPosition:N,coordinates:[[0,2],[1,2],[2,2]]},{winPosition:A,coordinates:[[0,0],[1,1],[2,2]]},{winPosition:W,coordinates:[[0,2],[1,1],[2,0]]}],$=r.a.createContext(),F=[{displayName:"2 Players",gameMode:R},{displayName:"Versus Computer",gameMode:G}],K=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n="xs"===e.width;return r.a.createElement(p.a,{container:!0,direction:"column",alignItems:"center",spacing:n?2:3,className:t.header},this.Title,this.Action,this.Restart)}},{key:"Title",get:function(){return r.a.createElement(p.a,{item:!0},r.a.createElement(y.a,{variant:"h4",style:{fontWeight:500}},"Tic Tac Toe"))}},{key:"Action",get:function(){var e=this,t=this.props,n=t.classes,a="xs"===t.width;return r.a.createElement(p.a,{item:!0,style:{width:"100%"}},r.a.createElement(p.a,{container:!0,direction:"row",justify:"center",spacing:1},F.map((function(t,o){var i=t.displayName,c=t.gameMode;return r.a.createElement(p.a,{item:!0,xs:5,sm:4,key:o},r.a.createElement(v.a,{className:n.button,color:"primary",size:"small",fullWidth:!0,onClick:function(){return e.context.setGameMode(c)},variant:c===e.context.gameMode?"contained":"outlined"},r.a.createElement(y.a,{variant:a?"caption":"body1"},i)))}))))}},{key:"Restart",get:function(){var e=this,t=this.props,n=t.classes,a="xs"===t.width;return r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(v.a,{variant:"contained",color:"primary",className:n.button,onClick:function(){return e.context.newGame()}},r.a.createElement(y.a,{variant:a?"caption":"body1"},"New Game"))))}}]),t}(r.a.Component);K.contextType=$;var Q=Object(w.a)()(Object(b.a)((function(e){return{header:{padding:e.spacing(3),background:O.a[600],color:e.palette.common.black},button:{textTransform:"initial",boxShadow:e.shadows[0]}}}))(Object(g.a)(K))),ee=n(54),te=[{name:"Portfolio",link:"https://www.zidianlyu.com"},{name:"Github",link:"https://github.com/zidianlyu"}],ne=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n="xs"===e.width;return r.a.createElement(p.a,{container:!0,direction:"row",justify:"space-between",className:t.footer},te.map((function(e,a){var o=e.name,i=e.link;return r.a.createElement(p.a,{item:!0,xs:5,key:a},r.a.createElement(v.a,{href:i,className:t.button,fullWidth:!0},r.a.createElement(y.a,{variant:n?"caption":"body1",className:t.font},o)))})))}}]),t}(r.a.Component),ae=Object(w.a)()(Object(ee.a)((function(e){return{footer:{padding:e.spacing(2),background:e.palette.common.black},button:{color:e.palette.common.white,textTransform:"initial"}}}))(ne)),re=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.row,a=e.col;return r.a.createElement($.Consumer,null,(function(e){return r.a.createElement(p.a,{item:!0,className:t.cell},r.a.createElement(v.a,{variant:"outlined",className:t.button,onClick:function(){e.isComputerThinking||e.humanPlay(n,a)},disableRipple:!0},e.gameBoard[n][a]))}))}}]),t}(r.a.Component),oe=Object(ee.a)((function(e){return{cell:{background:e.palette.common.black,display:"flex",justifyContent:"center",alignItems:"center",transition:"all 300ms","&:hover":{background:"#333",transition:"all 300ms"}},button:Object(j.a)({color:e.palette.common.white,height:90,width:90,fontSize:45,fontWeight:400},e.breakpoints.down("xs"),{height:75,width:75,fontSize:37,fontWeight:500})}}))(re),ie=n(6),ce=function(e){return e[Math.floor(Math.random()*e.length)]},se=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[0].length;a++)e[n][a]===q&&t.push([n,a]);return t},ue=function(e){return e.some((function(e){return e.some((function(e){return e===q}))}))},le=function(e){return e===Z?Y:Z},me=function(e){return e===H?U:H},pe=function(e,t,n,a){var r=e.map((function(e){return e.slice()}));return r[t][n]=a,r},fe=function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=X[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,c=i.winPosition,s=i.coordinates,u=Object(ie.a)(s,3),l=Object(ie.a)(u[0],2),m=l[0],p=l[1],f=Object(ie.a)(u[1],2),h=f[0],d=f[1],b=Object(ie.a)(u[2],2),g=b[0],O=b[1],y=[e[m][p],e[h][d],e[g][O]],v=y[0];if(v&&v===y[1]&&v===y[2])return{winPosition:c,isTie:!1}}}catch(w){n=!0,a=w}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return{winPosition:"",isTie:!ue(e)}},he=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="xs"===this.props.width;return r.a.createElement($.Consumer,null,(function(t){var n=t.gameState,a=t.gameOnIcon,o=t.gameMode,i=t.gameTurn,c=n.winPosition,s="";return s=n.isTie?"Tie!":o===R?c?"Player(".concat(le(a),") wins!"):"It's player(".concat(a,") turn"):c?i===U?"Computer win!":"You win!":i===U?"It's your turn":"It's computer turn",r.a.createElement(p.a,{item:!0},r.a.createElement(y.a,{variant:e?"caption":"body1"},s))}))}}]),t}(r.a.Component),de=Object(w.a)()(he),be=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"Gap",value:function(e,t){var n=this.props.classes,a=n.cellGap,o=n.rowGap;return r.a.createElement("div",{key:e,className:"cell"===t?a:o})}},{key:"Aggregator",value:function(e,t){var n=this;return e.reduce((function(a,r,o){return o<e.length-1?a.concat(r,n.Gap(o+e.length,t)):a.concat(r)}),[])}},{key:"Row",value:function(e,t){return e=e.map((function(e,n){return r.a.createElement(oe,{row:t,col:n,key:n})})),this.Aggregator(e,"cell")}},{key:"Board",value:function(e){var t=this,n=this.props.classes;return e=e.map((function(e,a){return r.a.createElement(p.a,{container:!0,key:a,className:n.board},t.Row(e,a))})),this.Aggregator(e,"row")}},{key:"render",value:function(){var e=this.props.classes,t=this.context,n=t.gameBoard,a=t.gameState,o=t.lineHeight,i=a.winPosition;return r.a.createElement(p.a,{container:!0,direction:"column",alignItems:"center",spacing:3,className:e.controller},r.a.createElement(de,null),r.a.createElement(p.a,{className:e.board},this.Board(n),i&&r.a.createElement("div",{className:e[i],style:{height:o}})))}}]),t}(r.a.Component);be.contextType=$;var ge=Object(ee.a)((function(e){var t;return t={controller:{padding:e.spacing(2),background:e.palette.common.black,color:e.palette.common.white},board:{position:"relative",overflow:"hidden"},cellGap:{background:e.palette.common.white,width:2,height:"auto"},rowGap:{background:e.palette.common.white,width:"auto",height:2}},Object(j.a)(t,T,E({},I,{},D,Object(j.a)({top:44},e.breakpoints.down("xs"),{top:37}))),Object(j.a)(t,S,E({},I,{},D,Object(j.a)({top:136},e.breakpoints.down("xs"),{top:114}))),Object(j.a)(t,x,E({},I,{},D,Object(j.a)({top:228},e.breakpoints.down("xs"),{top:191}))),Object(j.a)(t,C,E({},I,{},_,Object(j.a)({left:42},e.breakpoints.down("xs"),{left:35}))),Object(j.a)(t,M,E({},I,{},_,Object(j.a)({left:134},e.breakpoints.down("xs"),{left:113}))),Object(j.a)(t,N,E({},I,{},_,Object(j.a)({left:226},e.breakpoints.down("xs"),{left:190}))),Object(j.a)(t,A,E({},I,{},B,{transform:"rotateZ(-45deg)"})),Object(j.a)(t,W,E({},I,{},B,{transform:"rotateZ(45deg)",right:1})),t}))(be),Oe=function(e){var t;return t={maxWidth:e.spacing(63)},Object(j.a)(t,e.breakpoints.down(560),{maxWidth:e.spacing(52)}),Object(j.a)(t,e.breakpoints.down(450),{maxWidth:e.spacing(48)}),Object(j.a)(t,e.breakpoints.down(380),{maxWidth:"inherit"}),t};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(p.a,{container:!0,direction:"row",justify:"center",className:e.app},r.a.createElement(f.a,null),r.a.createElement(h.a,{in:!0,timeout:800},r.a.createElement(d.a,{elevation:5,square:!1,className:e.paper},r.a.createElement(Q,null),r.a.createElement(ge,null),r.a.createElement(ae,null))))}}]),t}(r.a.Component),je=Object(ee.a)((function(e){return{app:Object(j.a)({marginTop:e.spacing(3)},e.breakpoints.down(380),{marginTop:0}),paper:ve({},Oe(e),{width:"100%",overflow:"hidden"})}}))(we),ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ee=n(80),Te=n(40),Se=n(74),xe=n(33),Ce=n(34),Me=Object(Te.a)({palette:{primary:{main:Se.a[700]},secondary:xe.a,error:xe.a},status:{danger:Ce.a},typography:{useNextVariants:!0}}),Ne=function e(t,n,a,r,o,i){var c=function(e,t){var n=!0,a=!1,r=void 0;try{for(var o,i=X[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value.coordinates,s=Object(ie.a)(c,3),u=Object(ie.a)(s[0],2),l=u[0],m=u[1],p=Object(ie.a)(s[1],2),f=p[0],h=p[1],d=Object(ie.a)(s[2],2),b=d[0],g=d[1],O=[e[l][m],e[f][h],e[b][g]],y=O[0];if(y&&y===O[1]&&y===O[2])return y===t?z:L}}catch(v){a=!0,r=v}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return ue(e)?J:V}(t,a);if(c===z)return 10-n;if(c===L)return-10+n;if(c===V)return 0;var s=se(t);if(i){var u=-1/0,l=!0,m=!1,p=void 0;try{for(var f,h=s[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value,b=Object(ie.a)(d,2),g=b[0],O=b[1],y=e(pe(t,g,O,a),n+1,a,r,o,!i);if(u=Math.max(u,y),(r=Math.max(r,y))>=o)break}}catch(N){m=!0,p=N}finally{try{l||null==h.return||h.return()}finally{if(m)throw p}}return u}var v=1/0,w=!0,j=!1,k=void 0;try{for(var P,E=s[Symbol.iterator]();!(w=(P=E.next()).done);w=!0){var T=P.value,S=Object(ie.a)(T,2),x=S[0],C=S[1],M=e(pe(t,x,C,le(a)),n+1,a,r,o,!i);if(v=Math.min(v,M),r>=(o=Math.min(o,M)))break}}catch(N){j=!0,k=N}finally{try{w||null==E.return||E.return()}finally{if(j)throw k}}return v};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=function(){return{gameBoard:new Array(3).fill().map((function(e){return new Array(3).fill().map((function(e){return q}))})),gameOnIcon:ce([Y,Z]),gameState:{winPosition:"",isTie:!1},lineHeight:0,gameMode:R,gameTurn:ce([H,U]),isComputerThinking:!1}},De=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state=We({},Ie(),{setGameMode:function(e){n.state.gameMode!==e&&n.restart(e)},humanPlay:function(e,t){return n.humanPlay(e,t)},newGame:function(){return n.restart(n.state.gameMode)}}),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.initOnAIComputer()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state,n=t.gameState,a=t.lineHeight;n.winPosition&&400!==a&&window.setTimeout((function(){return e.setState({lineHeight:400})}),50)}},{key:"initOnAIComputer",value:function(){var e=this;this.state.gameMode===G&&this.state.gameTurn===H&&(this.computerTimer&&window.clearTimeout(this.computerTimer),this.setState({isComputerThinking:!0}),this.computerTimer=setTimeout((function(){var t=function(e){var t=se(e);return ce(t)}(e.state.gameBoard),n=Object(ie.a)(t,2),a=n[0],r=n[1];e.computerPlay(a,r),e.setState({isComputerThinking:!1})}),500))}},{key:"restart",value:function(e){var t=this;this.setState(We({},Ie(),{gameMode:e,lineHeight:0}),(function(){return t.initOnAIComputer()}))}},{key:"updateState",value:function(e,t,n){var a=e.gameBoard,r=e.gameOnIcon,o=e.gameTurn,i=le(r),c=pe(a,t,n,r);return{gameState:fe(c),gameOnIcon:i,gameTurn:me(o),gameBoard:c}}},{key:"humanPlay",value:function(e,t){var n=this,a=this.state,r=a.gameState,o=a.gameBoard,i=a.gameMode,c=a.gameTurn;r.winPosition||o[e][t]!==q||i!==R&&c!==U||this.setState((function(a){return n.updateState(a,e,t)}),(function(){var e=n.state,t=e.gameState,a=e.gameMode,r=e.gameTurn;t.winPosition||a!==G||r!==H||(n.setState({isComputerThinking:!0}),window.setTimeout((function(){n.aiMove(),n.setState({isComputerThinking:!1})}),500))}))}},{key:"aiMove",value:function(){var e=this.state,t=e.gameBoard,n=e.gameOnIcon;if(ue(t)){var a=function(e,t){var n=-1/0,a=se(e),r=ce(a),o=!0,i=!1,c=void 0;try{for(var s,u=a[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value,m=Object(ie.a)(l,2),p=m[0],f=m[1],h=pe(e,p,f,t),d=Ne(h,0,t,-1/0,1/0,!1);d>n&&(n=d,r=[p,f])}}catch(b){i=!0,c=b}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}return r}(t,n),r=Object(ie.a)(a,2),o=r[0],i=r[1];this.computerPlay(o,i)}}},{key:"computerPlay",value:function(e,t){var n=this,a=this.state,r=a.gameState,o=a.gameBoard,i=a.gameMode,c=a.gameTurn;r.winPosition||o[e][t]!==q||i!==G||c!==H||this.setState((function(a){return n.updateState(a,e,t)}))}},{key:"render",value:function(){return r.a.createElement($.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component);i.a.render(r.a.createElement(Ee.a,{theme:Me},r.a.createElement(De,null,r.a.createElement(je,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/tic_tak_toe_ai",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/tic_tak_toe_ai","/service-worker.js");ke?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Pe(t,e)}))}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.f793d5a3.chunk.js.map